<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Emiya的个人空间</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Emiya的个人空间">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Emiya的个人空间">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Emiya的个人空间" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Emiya的个人空间</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">行路难</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-C语言结构体笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/23/C%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84%E4%BD%93%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2025-08-23T01:52:20.140Z" itemprop="datePublished">2025-08-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/23/C%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84%E4%BD%93%E7%AC%94%E8%AE%B0/">C语言结构体笔记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="1-定义："><a href="#1-定义：" class="headerlink" title="1.定义："></a>1.定义：</h4><p>结构体是一种用户自定义的数据类型，允许将多个不同类型的变量组合在一起</p>
<p>使用 struct 关键字来定义一个新的结构体类型。</p>
<h4 id="2-定义方法"><a href="#2-定义方法" class="headerlink" title="**2.**定义方法"></a>**2.**<strong>定义方法</strong></h4><p>(1)<code>struct Student &#123;</code></p>
<p>   <code>int age;</code></p>
<p>   <code>char name[10];</code></p>
<p><code>&#125;;</code></p>
<p><code>（2）</code></p>
<p><code>struct Student &#123;</code></p>
<p>   <code>int age;</code></p>
<p>   <code>char name[10];</code></p>
<p><code>&#125;stu1;</code></p>
<p><code>(3).``typedef struct &#123;</code></p>
<p>  <code>int age;</code></p>
<p>  <code>char name[20];</code></p>
<p><code>&#125; Student;</code></p>
<p><code>Student stu1</code></p>
<h4 id="3-访问结构体"><a href="#3-访问结构体" class="headerlink" title="**3.**访问结构体"></a>**3.**<strong>访问结构体</strong></h4><h5 id="3-1结构体变量访问成员通过点访问运算符"><a href="#3-1结构体变量访问成员通过点访问运算符" class="headerlink" title="3.1结构体变量访问成员通过点访问运算符"></a>3.1结构体变量访问成员通过<strong>点访问</strong>运算符</h5><p><code>Stu1.age=10;</code></p>
<h5 id="3-2-当有一个指向结构体的指针时-使用-访问"><a href="#3-2-当有一个指向结构体的指针时-使用-访问" class="headerlink" title="3.2.当有一个指向结构体的指针时**,使用-&gt;**访问"></a>3.2.当有一个指向结构体的指针时**,<strong><strong>使用</strong></strong>-&gt;**<strong>访问</strong></h5><p><code>Student *ptr = &amp;stu1</code></p>
<p><code>ptr-&gt;age;；</code></p>
<p><code>(*ptr).age=10；</code>以上两种都可以</p>
<h4 id="4-初始化："><a href="#4-初始化：" class="headerlink" title="**4.**初始化："></a>**4.**<strong>初始化：</strong></h4><h5 id="方法-1：按成员定义的顺序初始化"><a href="#方法-1：按成员定义的顺序初始化" class="headerlink" title="方法 1：按成员定义的顺序初始化"></a>方法 1：按成员定义的顺序初始化</h5><p><code>Student stu1 = &#123;11, &quot;Bob&quot;&#125;;</code></p>
<h5 id="方法-2：先声明，后逐个赋值"><a href="#方法-2：先声明，后逐个赋值" class="headerlink" title="方法 2：先声明，后逐个赋值"></a>方法 2：先声明，后逐个赋值</h5><p><code>Student stu3;</code></p>
<p><code>stu3.age = 18;</code></p>
<p><code>strcpy(stu3.name, &quot;David&quot;);</code></p>
<h4 id="5-结构体与函数"><a href="#5-结构体与函数" class="headerlink" title="**5.**结构体与函数"></a>**5.**<strong>结构体与函数</strong></h4><h5 id="5-1-作为函数参数"><a href="#5-1-作为函数参数" class="headerlink" title="**5.1.**作为函数参数"></a>**5.1.**<strong>作为函数参数</strong></h5><h6 id="5-1-1：传值-将结构体作为实参传给函数。"><a href="#5-1-1：传值-将结构体作为实参传给函数。" class="headerlink" title="5.1.1：传值 将结构体作为实参传给函数。"></a><strong>5.1.1</strong>：传值 将结构体作为实参传给函数。</h6><p><code>void printStudent(Student stu1) &#123;</code> </p>
<p>  <code>printf(&quot;age: %d, name: %s\n&quot;, stu1.age, stu2.name);</code></p>
<p><code>&#125;</code></p>
<p><code>printStudent(stu1);</code></p>
<h6 id="5-1-2：传址：传递结构体的指针，效率高，函数内部可以通过指针修改原结构体的内容。"><a href="#5-1-2：传址：传递结构体的指针，效率高，函数内部可以通过指针修改原结构体的内容。" class="headerlink" title="5.1.2：传址：传递结构体的指针，效率高，函数内部可以通过指针修改原结构体的内容。"></a><strong>5.1.2</strong>：传址：传递结构体的指针，效率高，函数内部可以通过指针修改原结构体的内容。</h6><p><code>void setAge(Student *sPtr, float newAge) &#123;</code></p>
<p>  <code>sPtr-&gt;age = newAge; // 修改原结构体的成员</code></p>
<p><code>&#125;</code></p>
<p><code>setAge(&amp;stu1, 18)</code></p>
<p>不需要修改指针所指的变量成员时，采用以下设计即节省内存又安全</p>
<p><code>Const Stuedent* ptr;</code></p>
<h5 id="5-2-作为函数返回值-函数可以返回一个结构体类型"><a href="#5-2-作为函数返回值-函数可以返回一个结构体类型" class="headerlink" title="5.2**:**作为函数返回值,函数可以返回一个结构体类型"></a><strong>5.2</strong>**:**<strong>作为函数返回值</strong>,函数可以返回一个结构体类型</h5><h4 id="6-结构体数组："><a href="#6-结构体数组：" class="headerlink" title="6. 结构体数组："></a><strong>6</strong><strong>. 结构体数组：</strong></h4><p>可以创建结构体类型的数组。</p>
<p><code>Student class[3] = &#123;</code></p>
<p>  <code>&#123;1001, &quot;张三&quot;, 95.0&#125;,</code></p>
<p>  <code>&#123;1002, &quot;李四&quot;, 80.5&#125;,</code></p>
<p>  <code>&#123;1003, &quot;王五&quot;, 70.0&#125;</code></p>
<p><code>&#125;;</code></p>
<h4 id="7-结构体嵌套："><a href="#7-结构体嵌套：" class="headerlink" title="7. 结构体嵌套："></a><strong>7</strong><strong>. 结构体嵌套：</strong></h4><p>一个结构体的成员可以是另一个结构体类型。</p>
<p><code>typedef struct &#123;</code></p>
<p>  <code>int year;</code></p>
<p>  <code>int month;</code></p>
<p>  <code>int day;</code></p>
<p><code>&#125; Date;</code></p>
<p><code>typedef struct &#123;</code></p>
<p>  <code>int id;</code></p>
<p>  <code>char name[20];</code></p>
<p>  <code>Date birthday; // 嵌套 Date 结构体</code></p>
<p><code>&#125; Person;</code></p>
<h4 id="8-结构体的大小与内存对齐"><a href="#8-结构体的大小与内存对齐" class="headerlink" title="8. 结构体的大小与内存对齐"></a><strong>8</strong><strong>. 结构体的大小与内存对齐</strong></h4><p><code>sizeof(Student)</code> 得到的值不一定等于所有成员大小之和。这是因为编译器进行了内存对</p>
<p>齐，以提高CPU访问内存的效率。</p>
<p>对齐规则：结构体的起始地址是最大成员大小的整数倍</p>
<p>每个成员的偏移量是该成员大小的整数倍。</p>
<p> 可以使用 <code>#pragma pack(n)</code> 来修改对齐规则</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/23/C%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84%E4%BD%93%E7%AC%94%E8%AE%B0/" data-id="cmenmt2f60001acvdchc4gb49" data-title="C语言结构体笔记" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-C语言指针笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/22/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2025-08-22T13:44:06.117Z" itemprop="datePublished">2025-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/08/22/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/">C语言指针笔记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="对指针的理解"><a href="#对指针的理解" class="headerlink" title="对指针的理解"></a>对指针的理解</h2><p><strong>地址：</strong></p>
<p>计算机内存像一排连续的房间。每个房间（内存单元）都有一个唯一的门牌号，这个门牌号就是地址。</p>
<p>变量在定义时，系统会分配一个房间（内存空间） 给它，并给它一个地址。</p>
<p><strong>指针：</strong></p>
<p>指针本质上是一个特殊类型的变量。它不存储普通数据（如整数、字符），而是专门用来存储内存地址</p>
<p><strong>声明指针：</strong> 数据类型 *指针变量名;</p>
<p>**取址运算符 &amp;：**获取一个变量的内存地址。</p>
<p>**解引用运算符 *：**访问指针所指向的内存地址中存储的值。</p>
<p><strong>指针的类型</strong> (int*, float*, char*) 决定了：</p>
<p>解引用时访问多少字节内存： int* 解引用访问 4 个字节 (通常)，char* 解引用访问 1 个字节。</p>
<p><strong>指针加减运算</strong>：ptr + 1 ：加 sizeof(数据类型) 个字节。</p>
<p><strong>指针与数组的关系</strong>：数组名在大多数情况下，会自动转换为指向数组第一个元素的指针常量</p>
<p>int arr[5] &#x3D; {1, 2, 3, 4, 5};</p>
<p>int *ptr &#x3D; arr; &#x2F;&#x2F; 等价于 int *ptr &#x3D; &amp;arr[0];</p>
<p>printf(“第一个元素：%d\n”, *ptr); 输出：1 (arr[0])</p>
<p>printf(“第二个元素：%d\n”, *(ptr + 1)); 输出：2 (arr[1])</p>
<p><strong>区别：</strong></p>
<p>arr 是指针常量（地址值不能改），ptr 是指针变量（地址值可以改）。</p>
<p>sizeof(arr) 得到整个数组的字节大小，sizeof(ptr) 得到指针变量本身的字节大小</p>
<p><strong>指针与字符串</strong></p>
<p>C语言中字符串通常用 char 数组表示。</p>
<p>常用 char * 指针来操作字符串</p>
<p><strong>注意</strong>： char *strPtr &#x3D; “World”; 中的 “World” 是字符串常量，不能通过 strPtr 修改其内容（如 *strPtr &#x3D; ‘A’; ）。用字符数组定义的字符串可以修改</p>
<p><strong>指针的应用</strong></p>
<p>指针作为函数参数 (传址调用)。</p>
<p>动态内存分配： malloc，free</p>
<p>指向指针的指针 (多级指针)： int **pp;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/08/22/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/" data-id="cmenmt2f20000acvd1bzlevkv" data-title="C语言指针笔记" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">笔记</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/08/23/C%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84%E4%BD%93%E7%AC%94%E8%AE%B0/">C语言结构体笔记</a>
          </li>
        
          <li>
            <a href="/2025/08/22/C%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%AC%94%E8%AE%B0/">C语言指针笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>